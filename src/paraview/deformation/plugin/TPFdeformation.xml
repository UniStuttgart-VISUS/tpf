<ServerManagerConfiguration>
    <ProxyGroup name="filters">
        <!--

        Interface bending.

        Calculate the bending at the phase interface as change in curvature.

        -->
        <SourceProxy name="Interface Bending" class="tpf_interface_bending" label="Interface Bending">
            <Documentation>
                Calculate the bending at the phase interface as change in curvature.
            </Documentation>

            <InputProperty name="Input Grid" port_index="0" command="SetInputConnection">
                <ProxyGroupDomain name="groups">
                    <Group name="sources"/>
                    <Group name="filters"/>
                </ProxyGroupDomain>
                <DataTypeDomain name="input_type">
                    <DataType value="vtkRectilinearGrid"/>
                </DataTypeDomain>
                <InputArrayDomain attribute_type="cell" name="fractions_array" number_of_components="1"/>
                <InputArrayDomain attribute_type="cell" name="gradients_array" number_of_components="3"/>
                <InputArrayDomain attribute_type="cell" name="positions_array" number_of_components="3"/>
                <InputArrayDomain attribute_type="cell" name="velocities_array" number_of_components="3"/>
                <Documentation>
                    Grid storing the volume of fluid field, interface gradients, interface barycenters, and velocities
                </Documentation>
            </InputProperty>

            <StringVectorProperty name="VOF" label="Volume of fluid field" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="0">
                <ArrayListDomain name="array_list" attribute_type="Scalars" input_domain_name="fractions_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Volume of fluid field
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Interface Gradient" label="Interface gradient" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="1">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="gradients_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Interface gradients
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Interface Positions" label="Interface positions" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="2">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="positions_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Interface positions
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Velocities" label="Velocities" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="3">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="velocities_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Velocities
                </Documentation>
            </StringVectorProperty>

            <Hints>
                <ShowInMenu category="Two-Phase Flow"/>
            </Hints>
        </SourceProxy>

        <!--

        Interface deformation.

        Calculate the deformation at the phase interface as combination of interface bending and stretching.

        -->
        <SourceProxy name="Interface Deformation" class="tpf_interface_deformation" label="Interface Deformation">
            <Documentation>
                Calculate the deformation at the phase interface as combination of interface bending and stretching.
            </Documentation>

            <InputProperty name="Input Grid" port_index="0" command="SetInputConnection">
                <ProxyGroupDomain name="groups">
                    <Group name="sources"/>
                    <Group name="filters"/>
                </ProxyGroupDomain>
                <DataTypeDomain name="input_type">
                    <DataType value="vtkRectilinearGrid"/>
                </DataTypeDomain>
                <InputArrayDomain attribute_type="cell" name="fractions_array" number_of_components="1"/>
                <InputArrayDomain attribute_type="cell" name="velocities_array" number_of_components="3" optional="1"/>
                <Documentation>
                    Grid storing the volume of fluid field, and velocities
                </Documentation>
            </InputProperty>

            <StringVectorProperty name="VOF" label="Volume of fluid field" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="0">
                <ArrayListDomain name="array_list" attribute_type="Scalars" input_domain_name="fractions_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Volume of fluid field
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Velocities" label="Velocities" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="1">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="velocities_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Velocities
                </Documentation>
            </StringVectorProperty>

            <IntVectorProperty name="SurfaceTension" command="SetSurfaceTension" label="Use surface tension force" number_of_elements="1" default_values="0">
                <BooleanDomain name="bool"/>
                <Documentation>
                    Calculate the surface tension and use it instead of the actual velocities (experimental!)
                </Documentation>
            </IntVectorProperty>
            <DoubleVectorProperty name="Coefficient" command="SetCoefficient" label="Surface tension coefficient" number_of_elements="1" default_values="72.75">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="SurfaceTension" value="1" />
                </Hints>
                <Documentation>
                    Surface tension coefficient based on the involved species
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="Density" command="SetDensity" label="Density" number_of_elements="1" default_values="0.9982">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="SurfaceTension" value="1" />
                </Hints>
                <Documentation>
                    Density of the liquid phase
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="Timestep" command="SetTimestep" label="Alternative time step" number_of_elements="1" default_values="0.0">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="SurfaceTension" value="1" />
                </Hints>
                <Documentation>
                    Alternative time step for scaling the surface tension force
                </Documentation>
            </DoubleVectorProperty>

            <Hints>
                <ShowInMenu category="Two-Phase Flow"/>
            </Hints>
        </SourceProxy>

        <!--

        Interface deformation glyph.

        Create glyphs for visualizing interface deformation.

        -->
        <SourceProxy name="Interface Deformation Glyph" class="tpf_interface_deformation_glyph" label="Interface Deformation Glyph">
            <Documentation>
                Create glyphs for visualizing interface deformation.
            </Documentation>

            <InputProperty name="Input Grid" port_index="0" command="SetInputConnection">
                <ProxyGroupDomain name="groups">
                    <Group name="sources"/>
                    <Group name="filters"/>
                </ProxyGroupDomain>
                <DataTypeDomain name="input_type">
                    <DataType value="vtkRectilinearGrid"/>
                </DataTypeDomain>
                <InputArrayDomain attribute_type="cell" name="fractions_array" number_of_components="1"/>
                <InputArrayDomain attribute_type="cell" name="positions_array" number_of_components="3"/>
                <InputArrayDomain attribute_type="cell" name="gradients_array" number_of_components="3" optional="1"/>
                <InputArrayDomain attribute_type="cell" name="velocities_array" number_of_components="3" optional="1"/>
                <InputArrayDomain attribute_type="cell" name="stretching_min_array" number_of_components="3" optional="1"/>
                <InputArrayDomain attribute_type="cell" name="stretching_max_array" number_of_components="3" optional="1"/>
                <InputArrayDomain attribute_type="cell" name="bending_min_array" number_of_components="1" optional="1"/>
                <InputArrayDomain attribute_type="cell" name="bending_max_array" number_of_components="1" optional="1"/>
                <InputArrayDomain attribute_type="cell" name="bending_direction_min_array" number_of_components="3" optional="1"/>
                <InputArrayDomain attribute_type="cell" name="bending_direction_max_array" number_of_components="3" optional="1"/>
                <InputArrayDomain attribute_type="cell" name="bending_polynomial" number_of_components="3" optional="1"/>
                <Documentation>
                    Grid storing the interface positions, and optionally velocities, stretching, and bending information
                </Documentation>
            </InputProperty>

            <StringVectorProperty name="VOF" label="VOF" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="0">
                <ArrayListDomain name="array_list" attribute_type="Scalars" input_domain_name="fractions_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Volume of fluid
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Interface Positions" label="Interface positions" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="1">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="positions_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Interface positions
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Gradients" label="Interface gradients" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="2">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="gradients_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Interface gradients
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Velocities" label="Velocities" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="3">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="velocities_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Velocities
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Stretching Min" label="Stretching (minimum)" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="4">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="stretching_min_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Minimum stretching (direction)
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Stretching Max" label="Stretching (maximum)" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="5">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="stretching_max_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Maximum stretching (direction)
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Bending Min" label="Bending (minimum)" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="6">
                <ArrayListDomain name="array_list" attribute_type="Scalars" input_domain_name="bending_min_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Minimum bending
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Bending Max" label="Bending (maximum)" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="7">
                <ArrayListDomain name="array_list" attribute_type="Scalars" input_domain_name="bending_max_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Maximum bending
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Bending Direction Min" label="Bending direction (minimum)" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="8">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="bending_direction_min_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Minimum bending direction
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Bending Direction Max" label="Bending direction (maximum)" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="9">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="bending_direction_max_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Maximum bending direction
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Bending Polynomial" label="Bending polynomial" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="10">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="bending_polynomial">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Polynomial describing bending
                </Documentation>
            </StringVectorProperty>

            <IntVectorProperty name="VelocityGlyph" command="SetVelocityGlyph" label="Create velocity glyph" number_of_elements="1" default_values="0">
                <BooleanDomain name="bool"/>
                <Documentation>
                    Create an arrow glyph to visualize the underlying vector field in interface cells
                </Documentation>
            </IntVectorProperty>
            <IntVectorProperty name="ArrowSize" command="SetArrowSize" label="Size" number_of_elements="1" default_values="0">
                <EnumerationDomain name="enum">
                    <Entry value="0" text="Dynamic"/>
                    <Entry value="1" text="Fixed thickness"/>
                    <Entry value="2" text="Fixed size"/>
                </EnumerationDomain>
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="VelocityGlyph" value="1" />
                </Hints>
                <Documentation>
                    Set the arrow size:
                    "dynamic" scales the arrow by multiplying with the vector magnitude and the size scalar,
                    "fixed thickness" scales the arrow only in its direction with the vector magnitude and in all directions with the size scalar, and
                    "fixed size" only scales the arrow with the size scalar.
                </Documentation>
            </IntVectorProperty>
            <DoubleVectorProperty name="ArrowScalar" command="SetArrowScalar" label="Size scalar" number_of_elements="1" default_values="1.0">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="VelocityGlyph" value="1" />
                </Hints>
                <Documentation>
                    Scale the velocity glyph
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="ArrowFixedScalar" command="SetArrowFixedScalar" label="Fixed size scalar" number_of_elements="1" default_values="1.0">
                <Hints>
                    <PropertyWidgetDecorator type="CompositeDecorator">
                        <Expression type="and">
                            <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="VelocityGlyph" value="1" />
                            <PropertyWidgetDecorator type="CompositeDecorator">
                                <Expression type="or">
                                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="ArrowSize" value="1" />
                                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="ArrowSize" value="2" />
                                </Expression>
                            </PropertyWidgetDecorator>
                        </Expression>
                    </PropertyWidgetDecorator>
                </Hints>
                <Documentation>
                    Scalar for the fixed component
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="Timestep" command="SetTimestep" label="Alternative time step" number_of_elements="1" default_values="0.0">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="VelocityGlyph" value="1" />
                </Hints>
                <Documentation>
                    Alternative time step for scaling the velocities. If value is set to 0, a time step is calculated from the data
                </Documentation>
            </DoubleVectorProperty>
            <IntVectorProperty name="ArrowResolution" command="SetArrowResolution" label="Resolution" number_of_elements="1" default_values="16" panel_visibility="advanced">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="VelocityGlyph" value="1" />
                </Hints>
                <Documentation>
                    Resolution of the arrow, with larger values leading to a rounder arrow
                </Documentation>
            </IntVectorProperty>
            <DoubleVectorProperty name="ShaftTipRatio" command="SetShaftTipRatio" label="Shaft-tip-ratio" number_of_elements="1" default_values="0.5" panel_visibility="advanced">
                <DoubleRangeDomain name="shaft_range" min="0.02" max="0.98" />
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="VelocityGlyph" value="1" />
                </Hints>
                <Documentation>
                    Ratio of the shaft, where a larger value leads to a smaller tip
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="ArrowThickness" command="SetArrowThickness" label="Thickness" number_of_elements="1" default_values="0.05" panel_visibility="advanced">
                <DoubleRangeDomain name="volume_range" min="0.01" max="0.5" />
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="VelocityGlyph" value="1" />
                </Hints>
                <Documentation>
                    Thickness of the shaft, with twice the thickness for the tip
                </Documentation>
            </DoubleVectorProperty>

            <IntVectorProperty name="StretchingGlyph" command="SetStretchingGlyph" label="Create stretching glyph" number_of_elements="1" default_values="0">
                <BooleanDomain name="bool"/>
                <Documentation>
                    Create a disc glyph to visualize the stretching
                </Documentation>
            </IntVectorProperty>
            <DoubleVectorProperty name="StretchingExponent" command="SetStretchingExponent" label="Exponent" number_of_elements="1" default_values="1.0">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Exponent for increasing the deformation caused by the stretching
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="StretchingSizeScalar" command="SetStretchingSizeScalar" label="Size scalar" number_of_elements="1" default_values="0.4">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Scale of the disc glyph
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="StretchingHoleRadius" command="SetStretchingHoleRadius" label="Hole radius" number_of_elements="1" default_values="0.7">
                <DoubleRangeDomain name="hole_range" min="0.1" max="0.9" />
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Radius of the hole within the disc's center
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="StretchingOffset" command="SetStretchingOffset" label="Offset" number_of_elements="1" default_values="0.0">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Offset from the interface position along the normal.
                </Documentation>
            </DoubleVectorProperty>
            <IntVectorProperty name="StretchingDiscResolution" command="SetStretchingDiscResolution" label="Disc resolution" number_of_elements="1" default_values="32" panel_visibility="advanced">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Resolution around the disc (circle)
                </Documentation>
            </IntVectorProperty>
            <DoubleVectorProperty name="StretchingDiscBending" command="SetStretchingDiscBending" label="Disc bending" number_of_elements="1" default_values="0.05" panel_visibility="advanced">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Bending for pseudo-3D effect
                </Documentation>
            </DoubleVectorProperty>
            <IntVectorProperty name="StretchingShowStrips" command="SetStretchingShowStrips" label="Show strips" number_of_elements="1" default_values="1">
                <BooleanDomain name="bool"/>
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Show strips indicating the eigenvector directions
                </Documentation>
            </IntVectorProperty>
            <DoubleVectorProperty name="StretchingStripSize" command="SetStretchingStripSize" label="Strip size" number_of_elements="1" default_values="0.1" panel_visibility="advanced">
                <DoubleRangeDomain name="strip_range" min="0.01" max="0.5" />
                <Hints>
                    <PropertyWidgetDecorator type="CompositeDecorator">
                        <Expression type="and">
                            <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                            <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingShowStrips" value="1" />
                        </Expression>
                    </PropertyWidgetDecorator>
                </Hints>
                <Documentation>
                    Thickness of the strips indicating the eigenvector directions
                </Documentation>
            </DoubleVectorProperty>
            <IntVectorProperty name="StretchingShowReference" command="SetStretchingShowReference" label="Show reference circle" number_of_elements="1" default_values="1">
                <BooleanDomain name="bool"/>
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Show reference circle indicating no stretching
                </Documentation>
            </IntVectorProperty>
            <DoubleVectorProperty name="StretchingReferenceSize" command="SetStretchingReferenceSize" label="Reference circle size" number_of_elements="1" default_values="0.02" panel_visibility="advanced">
                <DoubleRangeDomain name="ref_range" min="0.001" max="0.5" />
                <Hints>
                    <PropertyWidgetDecorator type="CompositeDecorator">
                        <Expression type="and">
                            <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                            <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingShowReference" value="1" />
                        </Expression>
                    </PropertyWidgetDecorator>
                </Hints>
                <Documentation>
                    Thickness of the reference circle indicating no stretching
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="StretchingZOffset" command="SetStretchingZOffset" label="z-offset" number_of_elements="1" default_values="0.002" panel_visibility="advanced">
                <Hints>
                    <PropertyWidgetDecorator type="CompositeDecorator">
                        <Expression type="and">
                            <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingGlyph" value="1" />
                            <Expression type="or">
                                <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingShowStrips" value="1" />
                                <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="StretchingShowReference" value="1" />
                            </Expression>
                        </Expression>
                    </PropertyWidgetDecorator>
                </Hints>
                <Documentation>
                    Offset for the strips and the reference circle in z-direction to prevent z-fighting
                </Documentation>
            </DoubleVectorProperty>

            <IntVectorProperty name="BendingGlyph" command="SetBendingGlyph" label="Create bending glyph" number_of_elements="1" default_values="0">
                <BooleanDomain name="bool"/>
                <Documentation>
                    Create a disc glyph to visualize the bending
                </Documentation>
            </IntVectorProperty>
            <DoubleVectorProperty name="BendingScalar" command="SetBendingScalar" label="Scalar" number_of_elements="1" default_values="1.0">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="BendingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Scale the curvature values to create more or less bent discs
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="BendingSizeScalar" command="SetBendingSizeScalar" label="Size scalar" number_of_elements="1" default_values="0.15">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="BendingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Scale of the disc glyph
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="BendingOffset" command="SetBendingOffset" label="Offset" number_of_elements="1" default_values="0.0">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="BendingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Offset from the interface position along the normal.
                </Documentation>
            </DoubleVectorProperty>
            <IntVectorProperty name="BendingDiscResolution" command="SetBendingDiscResolution" label="Disc resolution" number_of_elements="1" default_values="32" panel_visibility="advanced">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="BendingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Resolution around the disc (circle)
                </Documentation>
            </IntVectorProperty>
            <IntVectorProperty name="PolynomialResolution" command="SetPolynomialResolution" label="Polynomial resolution" number_of_elements="1" default_values="10" panel_visibility="advanced">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="BendingGlyph" value="1" />
                </Hints>
                <Documentation>
                    Resolution along the disc (radius)
                </Documentation>
            </IntVectorProperty>
            <IntVectorProperty name="BendingShowStrips" command="SetBendingShowStrips" label="Show strips" number_of_elements="1" default_values="1">
                <Hints>
                    <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="BendingGlyph" value="1" />
                </Hints>
                <BooleanDomain name="bool"/>
                <Documentation>
                    Show strips indicating the eigenvector directions
                </Documentation>
            </IntVectorProperty>
            <DoubleVectorProperty name="BendingStripSize" command="SetBendingStripSize" label="Strip size" number_of_elements="1" default_values="0.1" panel_visibility="advanced">
                <DoubleRangeDomain name="strip_range" min="0.01" max="0.5" />
                <Hints>
                    <PropertyWidgetDecorator type="CompositeDecorator">
                        <Expression type="and">
                            <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="BendingGlyph" value="1" />
                            <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="BendingShowStrips" value="1" />
                        </Expression>
                    </PropertyWidgetDecorator>
                </Hints>
                <Documentation>
                    Thickness of the strips indicating the eigenvector directions
                </Documentation>
            </DoubleVectorProperty>
            <DoubleVectorProperty name="BendingZOffset" command="SetBendingZOffset" label="z-offset" number_of_elements="1" default_values="0.005" panel_visibility="advanced">
                <Hints>
                    <PropertyWidgetDecorator type="CompositeDecorator">
                        <Expression type="and">
                            <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="BendingGlyph" value="1" />
                            <PropertyWidgetDecorator type="GenericDecorator" mode="visibility" property="BendingShowStrips" value="1" />
                        </Expression>
                    </PropertyWidgetDecorator>
                </Hints>
                <Documentation>
                    Offset for the strips in z-direction to prevent z-fighting
                </Documentation>
            </DoubleVectorProperty>

            <PropertyGroup label="Velocity glyph">
                <Property name="VelocityGlyph" />
                <Property name="ArrowSize" />
                <Property name="ArrowScalar" />
                <Property name="ArrowFixedScalar" />
                <Property name="Timestep" />
                <Property name="ArrowResolution" />
                <Property name="ShaftTipRatio" />
                <Property name="ArrowThickness" />
            </PropertyGroup>

            <PropertyGroup label="Stretching glyph">
                <Property name="StretchingGlyph" />
                <Property name="StretchingExponent" />
                <Property name="StretchingSizeScalar" />
                <Property name="StretchingHoleRadius" />
                <Property name="StretchingOffset" />
                <Property name="StretchingDiscResolution" />
                <Property name="StretchingDiscBending" />
                <Property name="StretchingShowStrips" />
                <Property name="StretchingStripSize" />
                <Property name="StretchingShowReference" />
                <Property name="StretchingReferenceSize" />
                <Property name="StretchingZOffset" />
            </PropertyGroup>

            <PropertyGroup label="Bending glyph">
                <Property name="BendingGlyph" />
                <Property name="BendingScalar" />
                <Property name="BendingSizeScalar" />
                <Property name="BendingOffset" />
                <Property name="BendingDiscResolution" />
                <Property name="PolynomialResolution" />
                <Property name="BendingShowStrips" />
                <Property name="BendingStripSize" />
                <Property name="BendingZOffset" />
            </PropertyGroup>

            <OutputPort name="Velocity Glyph" index="0" id="velocity">
                <Documentation>
                    Glyph indicating velocity
                </Documentation>
            </OutputPort>
            <OutputPort name="Stretching Glyph" index="1" id="stretching">
                <Documentation>
                    Glyph indicating interface stretching
                </Documentation>
            </OutputPort>
            <OutputPort name="Bending Glyph" index="2" id="bending">
                <Documentation>
                    Glyph indicating interface bending
                </Documentation>
            </OutputPort>

            <Hints>
                <ShowInMenu category="Two-Phase Flow"/>
            </Hints>
        </SourceProxy>

        <!--

        Interface stretching.

        Calculate the stretching at the phase interface as change in size.

        -->
        <SourceProxy name="Interface Stretching" class="tpf_interface_stretching" label="Interface Stretching">
            <Documentation>
                Calculate the stretching at the phase interface as change in size.
            </Documentation>

            <InputProperty name="Input Grid" port_index="0" command="SetInputConnection">
                <ProxyGroupDomain name="groups">
                    <Group name="sources"/>
                    <Group name="filters"/>
                </ProxyGroupDomain>
                <DataTypeDomain name="input_type">
                    <DataType value="vtkRectilinearGrid"/>
                </DataTypeDomain>
                <InputArrayDomain attribute_type="cell" name="fractions_array" number_of_components="1"/>
                <InputArrayDomain attribute_type="cell" name="gradients_array" number_of_components="3"/>
                <InputArrayDomain attribute_type="cell" name="positions_array" number_of_components="3"/>
                <InputArrayDomain attribute_type="cell" name="velocities_array" number_of_components="3"/>
                <Documentation>
                    Grid storing the volume of fluid field, interface gradients, interface barycenters, and velocities
                </Documentation>
            </InputProperty>

            <StringVectorProperty name="VOF" label="Volume of fluid field" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="0">
                <ArrayListDomain name="array_list" attribute_type="Scalars" input_domain_name="fractions_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Volume of fluid field
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Interface Gradient" label="Interface gradient" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="1">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="gradients_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Interface gradients
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Interface Positions" label="Interface positions" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="2">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="positions_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Interface positions
                </Documentation>
            </StringVectorProperty>
            <StringVectorProperty name="Velocities" label="Velocities" command="SetInputArrayToProcess" number_of_elements="5" element_types="0 0 0 0 2" animateable="0" default_values="3">
                <ArrayListDomain name="array_list" attribute_type="Vectors" input_domain_name="velocities_array">
                    <RequiredProperties>
                        <Property name="Input Grid" function="Input" />
                    </RequiredProperties>
                </ArrayListDomain>
                <Documentation>
                    Velocities
                </Documentation>
            </StringVectorProperty>

            <Hints>
                <ShowInMenu category="Two-Phase Flow"/>
            </Hints>
        </SourceProxy>
    </ProxyGroup>
</ServerManagerConfiguration>
